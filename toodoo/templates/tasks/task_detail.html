{% extends "users/user_dashboard.html" %}

{% block user_content %}
<div class="page-header d-flex justify-content-between align-items-center mt-3 mb-4">
    <h4 class="mb-0">
        <i class="bi bi-card-checklist"></i> Task Details
    </h4>
    <div>
        <a href="{{ url_for('main.user_dashboard') }}" class="btn btn-outline-secondary btn-sm me-2">Back</a>
        <a href="{{ url_for('main.task_edit', id=task.task_id) }}" class="btn btn-outline-secondary btn-sm">Edit</a>
    </div>
</div>

<div class="card shadow-sm border-0">
    <div class="card-header bg-warning text-dark fw-bold fs-5">
        {{ task.title }}
    </div>
    <div class="card-body">

        <!-- Notes Section -->
        <div class="card mb-3 shadow-sm">
            <div class="card-body">
                <h6 class="text-secondary text-uppercase small mb-2">Notes</h6>
                <p class="mb-0">{{ task.notes or "-" }}</p>
            </div>
        </div>

        <!-- Due Date & Time Section -->
        <div class="row g-3 mb-3">
            <div class="col-md-6">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <h6 class="text-secondary text-uppercase small mb-2">Due Date</h6>
                        <p class="mb-0">{{ task.due_date.strftime("%B %d, %Y") if task.due_date else "—" }}</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <h6 class="text-secondary text-uppercase small mb-2">Due Time</h6>
                        <p class="mb-0">{{ task.due_time.strftime("%H:%M") if task.due_time else "—" }}</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Created & Completed Section -->
        <div class="row g-3">
            <div class="col-md-6">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <h6 class="text-secondary text-uppercase small mb-2">Created On</h6>
                        <p class="mb-0">{{ task.created_on.strftime("%B %d, %Y") }}</p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <h6 class="text-secondary text-uppercase small mb-2">Completed On</h6>
                        {% if task.completed_on %}
                        <p class="mb-0 text-success">{{ task.completed_on.strftime("%B %d, %Y") }}</p>
                        {% else %}
                        <p class="mb-0 text-muted">Not completed</p>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock %}