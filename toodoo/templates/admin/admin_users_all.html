{% extends "admin/admin_dashboard.html" %}

{% block admin_content %}

<div class="container">
    <!-- Flex container for cards -->
    <div class="d-flex flex-wrap gap-3">
        <table class="table table-hover align-middle mb-0">
            <thead class="bg-warning-subtle text-warning border-bottom border-warning">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">User</th>
                    <th scope="col">Date Joined</th>
                    <th scope="col">Password</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                {% for user in users %}
                <tr>
                    <th scope="row" class="text-warning">{{ loop.index }}</th>
                    <td>{{user.first_name}} {{user.last_name}} </td>
                    <td class="text-secondary">{{user.date_added.strftime('%B %d,
                        %Y')}}</td>
                    <td class="text-truncate" style="max-width: 150px;"> {{user.password_hash}} </td>
                    <td class="d-flex align-items-center justify-content-center">
                        <form method="POST" action="{{ url_for('main.user_delete', id=user.id) }}" class="m-0 p-0">
                            {{ form.csrf_token }}
                            {{ form.delete(class="btn btn-outline-danger btn-sm", value="Delete") }}
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<hr>
<a class="btn btn-outline-secondary" href="{{ url_for('main.admin_dashboard') }}">Back</a>
</div>


{% endblock %}